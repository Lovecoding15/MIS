0001 REM <BPR.01> 
0010 REM Get rev level description from 3 char code
0020 SETERR EXIT
0030 ENTER REV_CODE$,REV_DESC$
0040 LET REV_DESC$=""
0050 LET SYS01T=UNT; OPEN (SYS01T)"SYS-01"
0060 LET TERMINAL$="T"+FID(0)
0070 READ (SYS01T,KEY=TERMINAL$)*,F0$; CLOSE (SYS01T)
0080 DIM CSM04$:"FIRM_ID:C(2),PRODUCT_REV:C(3*),DESC:C(20*),KLN:C(1),DLR1:C(19*),NUM1:N(1*),NUM2:N(1*)"
0090 LET FOUND=0,CSM04CHAN=UNT; OPEN (CSM04CHAN)"CSM-04"
0100 READ RECORD(CSM04CHAN,KEY=F0$(16,2)+REV_CODE$,DOM=DONE)CSM04$; LET FOUND=1
0110 DONE: CLOSE (CSM04CHAN)
0120 IF FOUND=0 THEN GOTO EXIT
0130 LET RV$=CVS(CSM04.DESC$,3),P=POS(" "=RV$); IF P=0 THEN LET P=LEN(RV$)
0140 LET REV_DESC$=CVS(RV$(1,P),2)
0150 EXIT: 
0160 EXIT 
